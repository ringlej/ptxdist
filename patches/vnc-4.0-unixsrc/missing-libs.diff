Subject: [patch] vnc: fix undefined references
From: Benedikt Spranger <bugs@pengutronix.de>

Fix some undefined references; libXau has to be linked separately, at
least with X.org xlibs.

Signed-off-by: Robert Schwebel <r.schwebel@pengutronix.de>

---

diff -urN vnc-4.0-unixsrc-orig/vncviewer/Makefile.in vnc-4.0-unixsrc/vncviewer/Makefile.in
--- vnc-4.0-unixsrc-orig/vncviewer/Makefile.in	2003-07-30 11:26:53.000000000 +0200
+++ vnc-4.0-unixsrc/vncviewer/Makefile.in	2004-11-01 19:16:10.000000000 +0100
@@ -8,7 +8,7 @@
 DEP_LIBS = ../tx/libtx.a ../rfb/librfb.a ../network/libnetwork.a \
            ../rdr/librdr.a
 
-EXTRA_LIBS = @ZLIB_LIB@ @X_PRE_LIBS@ @X_LIBS@ -lXext -lX11 @X_EXTRA_LIBS@
+EXTRA_LIBS = @ZLIB_LIB@ @X_PRE_LIBS@ @X_LIBS@ -lXext -lX11 -lXau @X_EXTRA_LIBS@
 
 DIR_CPPFLAGS = -I$(top_srcdir) -I$(top_srcdir)/tx @X_CFLAGS@ # X_CFLAGS are really CPPFLAGS
 
diff -urN vnc-4.0-unixsrc-orig/x0vncserver/Makefile.in vnc-4.0-unixsrc/x0vncserver/Makefile.in
--- vnc-4.0-unixsrc-orig/x0vncserver/Makefile.in	2003-07-30 11:26:53.000000000 +0200
+++ vnc-4.0-unixsrc/x0vncserver/Makefile.in	2004-11-01 19:15:15.000000000 +0100
@@ -7,7 +7,7 @@
 
 DEP_LIBS = ../rfb/librfb.a ../network/libnetwork.a ../rdr/librdr.a
 
-EXTRA_LIBS = @ZLIB_LIB@ @X_PRE_LIBS@ @X_LIBS@ -lXtst -lXext -lX11 @X_EXTRA_LIBS@
+EXTRA_LIBS = @ZLIB_LIB@ @X_PRE_LIBS@ @X_LIBS@ -lXtst -lXext -lX11 -lXau @X_EXTRA_LIBS@
 
 DIR_CPPFLAGS = -I$(top_srcdir) @X_CFLAGS@ # X_CFLAGS are really CPPFLAGS

diff -urN vnc-4.0-unixsrc-orig/vncconfig/Makefile.in vnc-4.0-unixsrc/vncconfig/Makefile.in
--- vnc-4.0-unixsrc-orig/vncconfig/Makefile.in	2003-09-09 17:26:10.000000000 +0200
+++ vnc-4.0-unixsrc/vncconfig/Makefile.in	2004-11-01 19:23:18.000000000 +0100
@@ -8,7 +8,7 @@
 DEP_LIBS = ../tx/libtx.a ../rfb/librfb.a ../network/libnetwork.a \
            ../rdr/librdr.a
 
-EXTRA_LIBS = @X_PRE_LIBS@ @X_LIBS@ -lX11 -lXext @X_EXTRA_LIBS@
+EXTRA_LIBS = @X_PRE_LIBS@ @X_LIBS@ -lX11 -lXext -lXau -ldl @X_EXTRA_LIBS@
 
 DIR_CPPFLAGS = -I$(top_srcdir) -I$(top_srcdir)/tx @X_CFLAGS@ # X_CFLAGS are really CPPFLAGS
 
diff -urN vnc-4.0-unixsrc-orig/vncviewer/Makefile.in vnc-4.0-unixsrc/vncviewer/Makefile.in
--- vnc-4.0-unixsrc-orig/vncviewer/Makefile.in	2004-11-01 19:21:32.000000000 +0100
+++ vnc-4.0-unixsrc/vncviewer/Makefile.in	2004-11-01 19:22:29.000000000 +0100
@@ -8,7 +8,7 @@
 DEP_LIBS = ../tx/libtx.a ../rfb/librfb.a ../network/libnetwork.a \
            ../rdr/librdr.a
 
-EXTRA_LIBS = @ZLIB_LIB@ @X_PRE_LIBS@ @X_LIBS@ -lXext -lX11 -lXau @X_EXTRA_LIBS@
+EXTRA_LIBS = @ZLIB_LIB@ @X_PRE_LIBS@ @X_LIBS@ -lXext -lX11 -lXau -ldl @X_EXTRA_LIBS@
 
 DIR_CPPFLAGS = -I$(top_srcdir) -I$(top_srcdir)/tx @X_CFLAGS@ # X_CFLAGS are really CPPFLAGS
 
