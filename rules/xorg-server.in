# xorg server configuration

menuconfig XORG_SERVER
	bool "xorg server           "
	select XORG_PROTO_RANDR
	select XORG_PROTO_RENDER
	select XORG_PROTO_FIXES
	select XORG_PROTO_DAMAGE
	select XORG_PROTO_XCMISC
	select XORG_PROTO_XEXT
	select XORG_PROTO_X
	select XORG_PROTO_XF86MISC
	select XORG_PROTO_XF86VIDMODE
	select XORG_PROTO_XF86BIGFONT
	select XORG_PROTO_SCRNSAVER
	select XORG_PROTO_BIGREQS
	select XORG_PROTO_RESOURCE
	select XORG_PROTO_FONTS
	select XORG_PROTO_INPUT
	select XORG_PROTO_XF86DGA
	select XORG_PROTO_XF86DRI
	select XORG_PROTO_GL
	select XORG_PROTO_VIDEO
	select XORG_PROTO_COMPOSITE
	select XORG_PROTO_TRAP
	select XORG_PROTO_RECORD
	select XORG_PROTO_XINERAMA
	select XORG_PROTO_EVIEEXT
	select XORG_PROTO_FONTCACHE
	select XORG_PROTO_PRINT
	select XORG_LIB_XTRANS
	select XORG_LIB_XDMCP
	select XORG_LIB_XKBFILE
	select XORG_LIB_XFONT
	select XORG_LIB_XRENDER
	select XORG_LIB_XI
	select XORG_LIB_XV
	select XORG_LIB_LBXUTIL
	select XORG_LIB_XAU
	select XORG_LIB_FONTENC
	select XORG_LIB_XFONTCACHE
	select XORG_LIB_XT
	select XORG_LIB_XMU
	select XORG_LIB_DMX
	select XORG_LIB_XAW
	select XORG_LIB_XTST
	select XORG_LIB_XRES
	select XORG_LIB_X11
	select XORG_LIB_XEXT
	select XORG_LIB_XKBUI
	select XORG_LIB_XXF86MISC
	select XORG_LIB_XXF86VM
	select LIBDRM
	select MESALIB
	select GCCLIBS_GCC_S


	# FIXME: if not enabled, we get this one: 
	# record.c:46:38: X11/extensions/recordstr.h: No such file or directory
	select XORG_PROTO_RECORD if XORG_SERVER_QUIRKS

	# FIXME: if not enabled, we get this one: 
	# dbemodule.c:17: error: `noDbeExtension' undeclared here (not in a function)
	select XORG_SERVER_EXT_DBE if XORG_SERVER_QUIRKS

	# FIXME: XVMC_[TRUE|FALSE] are ifdefd out if XV is not set!
	select XORG_SERVER_EXT_XVMC if XORG_SERVER_QUIRKS && XORG_SERVER_EXT_XV

	# FIXME: same problem as above
	select XORG_SERVER_EXT_XV if XORG_SERVER_QUIRKS


# configure wants to have these
# randrproto renderproto fixesproto damageproto xcmiscproto xextproto
# xproto xtrans xf86miscproto xf86vidmodeproto xf86bigfontproto
# scrnsaverproto bigreqsproto resourceproto fontsproto inputproto
# xf86dgaproto xkbfile xfont xau fontenc


config XORG_SERVER_QUIRKS
	bool
	depends on XORG_SERVER
	prompt "enable xorg quirks"
	default y
	help
	  This option turns on some additional dependencies between the
	  xorg server and the libraries. These dependencies should not
	  be there, it is just for showing where currently things with 
	  the build system do not work as expected. 

# ----------------------------------------------------------------------------

comment "X.org Servers"
	depends on XORG_SERVER

config XORG_SERVER_XORG
	bool
	depends on XORG_SERVER
	prompt "Xorg server"
	help
	  --enable-xorg

config XORG_SERVER_DMX
	bool
	depends on XORG_SERVER
	prompt "DMX server"
	help
	  --enable-dmx

config XORG_SERVER_XVFB
	bool
	depends on XORG_SERVER
	prompt "Xvfb server"
	help
	  --enable-xvfb

config XORG_SERVER_XNEST
	bool
	depends on XORG_SERVER
	prompt "Xnest server"
	help
	  --enable-xnest

config XORG_SERVER_XWIN
	bool
	depends on BROKEN && XORG_SERVER
	prompt "XWin server"
	help
	  --enable-xwin

config XORG_SERVER_XPRINT
	bool
	depends on XORG_SERVER
	prompt "Xprint server and extension"
	help
	  --enable-xprint

# ----------------------------------------------------------------------------

comment "X.org Options"
	depends on XORG_SERVER

config XORG_SERVER_OPT_INSTALL_SETUID
	bool
	depends on XORG_SERVER
	prompt "Install Xorg server as owned by root with setupd bit"
	help
	  --enable-install-setuid

config XORG_SERVER_OPT_SECURE_RPC
	bool
	depends on XORG_SERVER
	prompt "secure RPC"
	help
	  --enable-secure-rpc

config XORG_SERVER_OPT_XORGCFG
	bool
	depends on XORG_SERVER
	prompt "build xorgcfg GUI config utility"
	help
	  --enable-xorgcfg

config XORG_SERVER_OPT_KBD_MODE
	bool
	depends on XORG_SERVER
	prompt "build kbd_mode utility"
	help
	  --enable-kbd_mode

# ----------------------------------------------------------------------------

comment "X.org Extensions"
	depends on XORG_SERVER

config XORG_SERVER_EXT_COMPOSITE
	bool
	depends on XORG_SERVER
	prompt "composite extension"
	default y
	help
	  --enable-composite 

config XORG_SERVER_EXT_SHM
	bool
	depends on XORG_SERVER
	prompt "SHM extension"
	default y
	help
	  --enable-shm

config XORG_SERVER_EXT_XRES
	bool
	depends on XORG_SERVER
	prompt "XRes extension"
	default y
	help
	  --enable-xres

config XORG_SERVER_EXT_XTRAP
	bool
	depends on XORG_SERVER
	prompt "XTrap extension"
	default y
	help
	  --enable-xtrap

config XORG_SERVER_EXT_RECORD
	bool
	depends on XORG_SERVER
	prompt "Record extension"
	default y
	help
	  --enable-record

config XORG_SERVER_EXT_XV
	bool
	depends on XORG_SERVER
	prompt "Xv extension"
	default y
	help
	  --enable-xv

config XORG_SERVER_EXT_XVMC
	bool
	depends on XORG_SERVER
	prompt "XvMC extension"
	default y
	help
	  --enable-xvmc

config XORG_SERVER_EXT_DGA
	bool
	depends on XORG_SERVER
	prompt "DGA extension"
	default y
	help
	  --enable-dga

config XORG_SERVER_EXT_SCREENSAVER
	bool
	depends on XORG_SERVER
	prompt "ScreenSaver extension"
	default y
	help
	  --enable-screensaver

config XORG_SERVER_EXT_XDMCP
	bool
	depends on XORG_SERVER
	prompt "XDMCP extension"
	help
	  --enable-xdmcp

config XORG_SERVER_EXT_XDMCP_AUTH_1
	bool
	depends on XORG_SERVER
	prompt "XDM-Auth-1 extension"
	help
	  --enable-xdmcp

config XORG_SERVER_EXT_GLX
	bool
	depends on XORG_SERVER
	prompt "GLX extension"
	help
	  --enable-glx

config XORG_SERVER_EXT_DRI
	bool
	depends on XORG_SERVER
	prompt "DRI extension"
	help
	  --enable-dri - Support for Direct Rendering Infrastructure. Used for
	  3D animation

config XORG_SERVER_EXT_XINERAMA
	bool
	depends on XORG_SERVER
	prompt "Xinerama extension"
	help
	  --enable-xinerama - Support for more than one screen, but handled
	  as one screen

config XORG_SERVER_EXT_XF86VIDMODE
	bool
	depends on XORG_SERVER
	prompt "XF86VidMode extension"
	help
	  --enable-xf86vidmode

config XORG_SERVER_EXT_XF86MISC
	bool
	depends on XORG_SERVER
	prompt "XF86Misc extension"
	help
	  --enable-xf86misc

config XORG_SERVER_EXT_XCSECURITY
	bool
	depends on XORG_SERVER
	prompt "Security extension"
	help
	  --enable-xcsecurity

config XORG_SERVER_EXT_XEVIE
	bool
	depends on XORG_SERVER
	prompt "XEvIE extension"
	help
	  --enable-xevie

config XORG_SERVER_EXT_LBX
	bool
	depends on XORG_SERVER
	prompt "LBX extension"
	help
	  --enable-lbx

config XORG_SERVER_EXT_APPGROUP
	bool
	depends on XORG_SERVER
	prompt "XC-APPGROUP extension"
	help
	  --enable-appgroup

config XORG_SERVER_EXT_CUP
	bool
	depends on XORG_SERVER
	prompt "TOG-CUP extension"
	help
	  --enable-cup

config XORG_SERVER_EXT_EVI
	bool
	depends on XORG_SERVER
	prompt "Extended-Visual-Information extension"
	help
	  --enable-evi

config XORG_SERVER_EXT_MULTIBUFFER
	bool
	depends on XORG_SERVER
	prompt "Multibuffer extension"
	help
	  --enable-multibuffer

config XORG_SERVER_EXT_FONTCACHE
	bool
	depends on XORG_SERVER
	prompt "FontCache extension"
	help
	  --enable-fontcache

config XORG_SERVER_EXT_DBE
	bool
	depends on XORG_SERVER
	prompt "DBE extension"
	help
	  --enable-dbe - Double Buffer Extension for graphic accelaration

