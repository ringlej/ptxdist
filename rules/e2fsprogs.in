## SECTION=disk_and_file

menuconfig E2FSPROGS
	tristate
	prompt "e2fsprogs                     "
	select HOST_GETTEXT
	# configure needs these external libs
	select LIBBLKID	#if E2FSPROGS_LIBBLKID
	select LIBUUID	#if E2FSPROGS_LIBUUID
	help
	 The e2fsprogs package provides the filesystem utilities for use
	 with the ext2 filesystem. It also supports the ext3 filesystem
	 with journaling support.

if E2FSPROGS


config E2FSPROGS_LIBBLKID
	bool

config E2FSPROGS_LIBUUID
	bool

# -----------------------------------
menu "build options                 "
# -----------------------------------

config E2FSPROGS_COMPRESSION
	bool
	prompt "compression"
	help
	  Enable experimental compression support.

config E2FSPROGS_IMAGER
	bool
	# no prompt
	default y if E2FSPROGS_INSTALL_E2IMAGE
	help
	  Enable support for e2image program.

config E2FSPROGS_RESIZER
	bool
	# no prompt
	default y if E2FSPROGS_INSTALL_RESIZE2FS
	help
	  Enable support for e2resize program.

endmenu

# -----------------------------------
menu "libraries                     "
# -----------------------------------

config E2FSPROGS_LIBCOM_ERR
	bool
	prompt "libcom_err"
	help
	  Install libcom_err.

config E2FSPROGS_LIBE2P
	bool
	prompt "libe2p"
	help
	  Install libe2p.

config E2FSPROGS_LIBEXT2FS
	bool
	prompt "libext2fs"
	select E2FSPROGS_LIBCOM_ERR
	select LIBC_PTHREAD
	help
	  Install libext2fs.

config E2FSPROGS_LIBSS
	bool
	prompt "libss"
	select E2FSPROGS_LIBCOM_ERR
	select LIBC_DL
	select LIBC_PTHREAD
	help
	  Install libss.

endmenu

# -----------------------------------
menu "binaries                      "
# -----------------------------------

config E2FSPROGS_INSTALL_CHATTR
	bool
	select E2FSPROGS_LIBCOM_ERR
	select E2FSPROGS_LIBE2P
	prompt "chattr"
	help
	  Enable support for chattr program.

config E2FSPROGS_INSTALL_LSATTR
	bool
	select E2FSPROGS_LIBCOM_ERR
	select E2FSPROGS_LIBE2P
	prompt "lsattr"
	help
	  Enable support for lsattr program.

# -----

config E2FSPROGS_INSTALL_BADBLOCKS
	bool
	select E2FSPROGS_LIBEXT2FS
	select E2FSPROGS_LIBCOM_ERR
	prompt "badblocks"
	help
	  Enable support for badblocks program.


config E2FSPROGS_INSTALL_DUMPE2FS
	bool
	select E2FSPROGS_LIBCOM_ERR
	select E2FSPROGS_LIBE2P
	select E2FSPROGS_LIBEXT2FS
	select E2FSPROGS_LIBUUID
	prompt "dumpe2fs"
	help
	  Enable support for dumpe2fs program.



config E2FSPROGS_INSTALL_E2FSCK
	bool
	select E2FSPROGS_LIBBLKID
	select E2FSPROGS_LIBCOM_ERR
	select E2FSPROGS_LIBE2P
	select E2FSPROGS_LIBEXT2FS
	select E2FSPROGS_LIBUUID
	prompt "e2fsck"
	help
	  Enable support for e2fsck program.

config E2FSPROGS_INSTALL_FSCK_EXT2
	bool
	prompt "fsck.ext2"
	select E2FSPROGS_INSTALL_E2FSCK
	help
	  Create link to fsck.ext2 program.


config E2FSPROGS_INSTALL_FSCK_EXT3
	bool
	prompt "fsck.ext3"
	select E2FSPROGS_INSTALL_E2FSCK
	help
	  Enable support for fsck.ext3 program.

config E2FSPROGS_INSTALL_FSCK_EXT4
	bool
	prompt "fsck.ext4"
	select E2FSPROGS_INSTALL_E2FSCK
	help
	  Create link to fsck.ext4 program.

config E2FSPROGS_INSTALL_FSCK_EXT4DEV
	bool
	prompt "fsck.ext4dev"
	select E2FSPROGS_INSTALL_E2FSCK
	help
	  Create link to fsck.ext4dev program.



config E2FSPROGS_INSTALL_E2IMAGE
	bool
	select E2FSPROGS_LIBCOM_ERR
	select E2FSPROGS_LIBEXT2FS
	prompt "e2image"
	help
	  Enable support for e2image program.


config E2FSPROGS_INSTALL_E2LABEL
	bool
	select E2FSPROGS_LIBBLKID
	select E2FSPROGS_LIBCOM_ERR
	select E2FSPROGS_LIBE2P
	select E2FSPROGS_LIBEXT2FS
	select E2FSPROGS_LIBUUID
	prompt "e2label"
	help
	  Enable support for e2label program.

config E2FSPROGS_INSTALL_E2UNDO
	bool
	select E2FSPROGS_LIBCOM_ERR
	select E2FSPROGS_LIBEXT2FS
	prompt "e2undo"
	help
	  Enable support for e2undo program.

config E2FSPROGS_INSTALL_FILEFRAG
	bool
	prompt "filefrag"
	help
	  Enable support for filefrag program.

config E2FSPROGS_INSTALL_LOGSAVE
	bool
	prompt "logsave"
	help
	  Enable support for logsave program.



config E2FSPROGS_INSTALL_MKE2FS
	bool
	select E2FSPROGS_LIBBLKID
	select E2FSPROGS_LIBCOM_ERR
	select E2FSPROGS_LIBE2P
	select E2FSPROGS_LIBEXT2FS
	select E2FSPROGS_LIBUUID
	prompt "mke2fs"
	help
	  Enable support for mke2fs program.

config E2FSPROGS_INSTALL_MKFS_EXT2
	bool
	prompt "mkfs.ext2"
	select E2FSPROGS_INSTALL_MKE2FS
	help
	  Create link to mkfs.ext2 program.

config E2FSPROGS_INSTALL_MKFS_EXT3
	bool
	prompt "mkfs.ext3"
	select E2FSPROGS_INSTALL_MKE2FS
	help
	  Create link to mkfs.ext3 program.

config E2FSPROGS_INSTALL_MKFS_EXT4
	bool
	prompt "mkfs.ext4"
	select E2FSPROGS_INSTALL_MKE2FS
	help
	  Create link to mkfs.ext4 program.

config E2FSPROGS_INSTALL_MKFS_EXT4DEV
	bool
	prompt "mkfs.ext4dev"
	select E2FSPROGS_INSTALL_MKE2FS
	help
	  Create link to mkfs.ext4dev program.



config E2FSPROGS_INSTALL_MKLOSTANDFOUND
	bool
	prompt "mklost+found"
	help
	  Enable support for mklost+found program.

config E2FSPROGS_INSTALL_RESIZE2FS
	bool
	select E2FSPROGS_LIBCOM_ERR
	select E2FSPROGS_LIBE2P
	select E2FSPROGS_LIBEXT2FS
	prompt "resize2fs"
	help
	  Enable support for resize2fs program.

config E2FSPROGS_INSTALL_TUNE2FS
	bool
	select E2FSPROGS_LIBBLKID
	select E2FSPROGS_LIBCOM_ERR
	select E2FSPROGS_LIBE2P
	select E2FSPROGS_LIBEXT2FS
	select E2FSPROGS_LIBUUID
	prompt "tune2fs"
	help
	  Enable support for tune2fs program.

config E2FSPROGS_INSTALL_UUIDD
	bool
	select E2FSPROGS_LIBUUID
	prompt "uuid"
	help
	  Enable support for uuid program.

endmenu

endif

